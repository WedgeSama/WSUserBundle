{% trans_default_domain 'WSUserBundle' %}

<table class="ws_user_bundle_user_list">
	<thead>
		<tr>
            <th{% if users.isSorted('u.username') %} class="sorted"{% endif %}>
                {{ knp_pagination_sortable(users, 'entity.user.username'|trans, 'u.username') }}
            </th>
            <th{% if users.isSorted('u.registerAt') %} class="sorted"{% endif %}>
                {{ knp_pagination_sortable(users, 'entity.user.registerat'|trans, 'u.registerAt') }}
            </th>
            <th{% if users.isSorted('u.lastLogin') %} class="sorted"{% endif %}>
                {{ knp_pagination_sortable(users, 'entity.user.lastlogin'|trans, 'u.lastLogin') }}
            </th>

			<th>{{ 'tables.actions'|trans }}</th>
		</tr>
	</thead>
	<tbody>
	{% for user in users %}
		<tr>
            <td><a href="{{ path('ws_user_user_show', { 'username': user.username }) }}">{{ user.username }}</a></td>
            <td>{% if user.registerAt %}{{ user.registerAt|date('Y-m-d H:i:s') }}{% endif %}</td>
			<td>{% if user.lastLogin %}{{ user.lastLogin|date('Y-m-d H:i:s') }}{% endif %}</td>
			<td>
			<ul>
				<li>
					<a href="{{ path('ws_user_user_show', { 'username': user.username }) }}">
					   {{ 'links.user.show'|trans }}
                    </a>
				</li>
			</ul>
			</td>
		</tr>
	{% endfor %}
	</tbody>
</table>

{{ knp_pagination_render(users) }}
